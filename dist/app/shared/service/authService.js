timeTrackingApp.factory("AuthService",["localStorageService","$http","$q","ENV_VARS","companyModel",function(e,n,o,t,r){return{login:function(s,a){var i=o.defer();e.set("username",s),e.set("password",a);var l={email:s,password:a};return n({url:t.BASEURL+"user/auth/",method:"POST",data:l,headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(n){console.log(n),e.set("isLogin",!0),r.setCompanyProfile(n.data),i.resolve(n)},function(n){i.reject(n),e.set("isLogin",!1),console.log(n)}),i.promise},reAuth:function(){var n=e.get("username"),o=e.get("password");return console.log(n+o),this.login(n,o)},isLogin:function(){var n=e.get("isLogin"),o=r.getCompanyID();return!(null===n||!1===n||null===o)}}}]);