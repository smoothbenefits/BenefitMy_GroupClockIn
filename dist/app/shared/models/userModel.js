timeTrackingApp.factory("userModel",["localStorageService",function(r){var e={};return{getGoldenPhotoID:function(){e=r.get("currentUserProfile");var t=e.photo_url;return t.substr(t.indexOf("s3.amazonaws.com/")+17,t.length)},getGoldenPhoto:function(){return e=r.get("currentUserProfile"),e.photo_url},getUserName:function(){return e=r.get("currentUserProfile"),e.person.first_name+" "+e.person.last_name},getUserProfile:function(){return null!==(e=r.get("currentUserProfile"))&&e},getUserID:function(){return null!==(e=r.get("currentUserProfile"))&&e.id},getUserEmail:function(){return null!==(e=r.get("currentUserProfile"))&&e.person.email},getCompanyID:function(){return null!==(e=r.get("currentUserProfile"))&&e.company},clearCurrentUser:function(){r.set("currentUserProfile",null)},setCurrentUser:function(e){var t=JSON.parse(r.get("users"));null===t&&(t=[]);var n=t.filter(function(r){return r.id===e.id});0===n.length?(t.push(e),r.set("users",JSON.stringify(t))):(n[0].hasOwnProperty("clockIn")&&(e.clockIn=n[0].clockIn,e.clockInId=n[0].clockInId),e.hasOwnProperty("photo_url")),r.set("currentUserProfile",e)},hasGoldenPhoto:function(){return null!==this.getGoldenPhoto()&&""!==this.getGoldenPhoto()},isCurrentUserClockIn:function(){var e=r.get("lastStatus");return null!==e&&e.length>0},getCurrentUser:function(){return r.get("currentUserProfile")},updateUser:function(e){var t=JSON.parse(r.get("users"));null===t&&(t=[]),t=t.map(function(r){return r.id===e.id?e:r}),r.set("users",JSON.stringify(t))},getCurrentUserFisrtName:function(){return null!==(e=r.get("currentUserProfile"))&&e.person.first_name}}}]);