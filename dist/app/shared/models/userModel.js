timeTrackingApp.factory("userModel",["localStorageService",function(r){var e={};return{getGoldenPhotoID:function(){e=r.get("currentUserProfile");var n=e.photo_url;return n.substr(n.indexOf("s3.amazonaws.com/")+17,n.length)},getGoldenPhoto:function(){return e=r.get("currentUserProfile"),e.photo_url},getUserName:function(){return e=r.get("currentUserProfile"),e.person.first_name+" "+e.person.last_name},getUserProfile:function(){return null!==(e=r.get("currentUserProfile"))&&e},getUserID:function(){return null!==(e=r.get("currentUserProfile"))&&e.id},getUserEmail:function(){return null!==(e=r.get("currentUserProfile"))&&e.person.email},getCompanyID:function(){return null!==(e=r.get("currentUserProfile"))&&e.company},clearCurrentUser:function(){r.set("currentUserProfile",null)},setCurrentUser:function(e){var n=JSON.parse(r.get("users"));null===n&&(n=[]);var t=n.filter(function(r){return r.id===e.id});0===t.length?(n.push(e),r.set("users",JSON.stringify(n))):(t[0].hasOwnProperty("clockIn")&&(e.clockIn=t[0].clockIn,e.clockInId=t[0].clockInId),e.hasOwnProperty("photo_url")),r.set("currentUserProfile",e)},hasGoldenPhoto:function(){return null!==this.getGoldenPhoto()},isCurrentUserClockIn:function(){var e=r.get("lastStatus");return null===e||e.length>0},getCurrentUser:function(){return r.get("currentUserProfile")},updateUser:function(e){var n=JSON.parse(r.get("users"));null===n&&(n=[]),n=n.map(function(r){return r.id===e.id?e:r}),r.set("users",JSON.stringify(n))},getCurrentUserFisrtName:function(){return null!==(e=r.get("currentUserProfile"))&&e.person.first_name}}}]);