timeTrackingApp.controller("PinLoginCtrl",["$scope","$state","$location","$mdToast","userService","userModel","AuthService","timeTrackingService",function(e,n,t,i,o,c,a,r){var s="";c.clearCurrentUser();var u=document.querySelectorAll(".num");u=Array.prototype.slice.call(u),u.forEach(function(n,t){n.addEventListener("click",function(){switch(!0){case t<9:s+=t+1;break;case 9===t:s+=0}e.$apply(function(){document.getElementById("input_field").className+=" text-animation",e.pin_input=s,setTimeout(function(){document.getElementById("input_field").classList.remove("text-animation")},200)})})}),e.pinDone=function(){if(e.isLoading=!0,!a.isLogin())return e.isLoading=!1,n.go("login"),n.$apply(),!0;o.pinLogin(s).then(function(){r.getUserLatestTimeCardStatus(),setTimeout(function(){n.go("capture")},1500)},function(){e.isLoading=!1,i.show(i.simple().content("Invalid Pin!").theme("error-toast")),s="",e.pin_input=s})},e.pinBackspace=function(){s=s.slice(0,-1),e.pin_input=s}}]);